{
  "last_node_id": 10,
  "last_link_id": 10,
  "nodes": [
    {
      "id": 1,
      "type": "LoadImage",
      "pos": [50, 100],
      "size": {"0": 250, "1": 314},
      "flags": {},
      "order": 0,
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [1, 3],
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {},
      "widgets_values": ["reference_face.png"],
      "title": "Reference Image"
    },
    {
      "id": 2,
      "type": "LoadImage",
      "pos": [50, 460],
      "size": {"0": 250, "1": 314},
      "flags": {},
      "order": 1,
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [2],
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {},
      "widgets_values": ["test_same_person.png"],
      "title": "Test: Same Person (should match)"
    },
    {
      "id": 3,
      "type": "LoadImage",
      "pos": [50, 820],
      "size": {"0": 250, "1": 314},
      "flags": {},
      "order": 2,
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [4],
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {},
      "widgets_values": ["test_different_person.png"],
      "title": "Test: Different Person (should NOT match)"
    },
    {
      "id": 4,
      "type": "DFLFaceMatcher",
      "pos": [380, 200],
      "size": {"0": 300, "1": 100},
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [
        {
          "name": "image_a",
          "type": "IMAGE",
          "link": 1
        },
        {
          "name": "image_b",
          "type": "IMAGE",
          "link": 2
        }
      ],
      "outputs": [
        {
          "name": "similarity",
          "type": "FLOAT",
          "links": [5],
          "slot_index": 0
        },
        {
          "name": "match_info",
          "type": "STRING",
          "links": [6],
          "slot_index": 1
        }
      ],
      "properties": {},
      "widgets_values": ["insightface"],
      "title": "Compare: Same Person"
    },
    {
      "id": 5,
      "type": "DFLFaceMatcher",
      "pos": [380, 560],
      "size": {"0": 300, "1": 100},
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [
        {
          "name": "image_a",
          "type": "IMAGE",
          "link": 3
        },
        {
          "name": "image_b",
          "type": "IMAGE",
          "link": 4
        }
      ],
      "outputs": [
        {
          "name": "similarity",
          "type": "FLOAT",
          "links": [7],
          "slot_index": 0
        },
        {
          "name": "match_info",
          "type": "STRING",
          "links": [8],
          "slot_index": 1
        }
      ],
      "properties": {},
      "widgets_values": ["insightface"],
      "title": "Compare: Different Person"
    },
    {
      "id": 6,
      "type": "ShowText|pysssss",
      "pos": [750, 200],
      "size": {"0": 350, "1": 150},
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        {
          "name": "text",
          "type": "STRING",
          "link": 6,
          "widget": {"name": "text"}
        }
      ],
      "properties": {},
      "widgets_values": ["Same person similarity will show here"],
      "title": "Same Person Result"
    },
    {
      "id": 7,
      "type": "ShowText|pysssss",
      "pos": [750, 560],
      "size": {"0": 350, "1": 150},
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [
        {
          "name": "text",
          "type": "STRING",
          "link": 8,
          "widget": {"name": "text"}
        }
      ],
      "properties": {},
      "widgets_values": ["Different person similarity will show here"],
      "title": "Different Person Result"
    },
    {
      "id": 8,
      "type": "Note",
      "pos": [750, 400],
      "size": {"0": 350, "1": 130},
      "flags": {},
      "order": 7,
      "mode": 0,
      "properties": {},
      "widgets_values": [
        "THRESHOLD SELECTION:\n\nYour threshold should be:\n- ABOVE the 'Different Person' similarity\n- BELOW the 'Same Person' similarity\n\nExample: Same=0.72, Different=0.35\nâ†’ Use threshold 0.5-0.6"
      ],
      "color": "#2d5a27",
      "bgcolor": "#3a7a32"
    },
    {
      "id": 9,
      "type": "Note",
      "pos": [50, 1180],
      "size": {"0": 450, "1": 220},
      "flags": {},
      "order": 8,
      "mode": 0,
      "properties": {},
      "widgets_values": [
        "THRESHOLD TUNING WORKFLOW\n\nUse this workflow to find the optimal similarity_threshold\nfor your specific footage.\n\nSTEPS:\n1. Load your reference image (the character you want to extract)\n2. Load a test image that IS the same person (different frame)\n3. Load a test image that is NOT the same person\n4. Compare similarity scores\n5. Choose threshold between the two scores\n\nGUIDELINES:\n- 0.7+ = Very strict, may miss valid faces\n- 0.5-0.6 = Good balance\n- 0.4-0.5 = More inclusive, may get false positives\n- Below 0.4 = Too loose, will match wrong faces"
      ],
      "color": "#432",
      "bgcolor": "#653"
    }
  ],
  "links": [
    [1, 1, 0, 4, 0, "IMAGE"],
    [2, 2, 0, 4, 1, "IMAGE"],
    [3, 1, 0, 5, 0, "IMAGE"],
    [4, 3, 0, 5, 1, "IMAGE"],
    [5, 4, 0, null, null, "FLOAT"],
    [6, 4, 1, 6, 0, "STRING"],
    [7, 5, 0, null, null, "FLOAT"],
    [8, 5, 1, 7, 0, "STRING"]
  ],
  "groups": [
    {
      "title": "Test Images",
      "bounding": [40, 50, 280, 1110],
      "color": "#3f789e"
    },
    {
      "title": "Compare Same Person",
      "bounding": [360, 150, 770, 220],
      "color": "#27ae60"
    },
    {
      "title": "Compare Different Person",
      "bounding": [360, 510, 770, 220],
      "color": "#e74c3c"
    }
  ],
  "config": {},
  "extra": {},
  "version": 0.4
}
